@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.agentmtdidentifiers.model.Arn
@import uk.gov.hmrc.agentservicesaccount.config.AppConfig
@import play.api.Configuration
@import uk.gov.hmrc.agentservicesaccount.views.html.main_template

@this(mainTemplate: main_template)

@(arn: String, isWhitelisted: Boolean, customDimension: String, isAdmin: Boolean = false, isSuspendedForVat: Boolean)(implicit messages: Messages, request: Request[_], appConfig: AppConfig, configuration: Configuration)

@analyticsAdditionalJs = {


        ga('send', 'event', {
            'eventCategory': '@Messages("agent.services.account.additional.links.agent-afi.ga.link-view")',
            'eventAction': '@Messages("agent.services.account.additional.links.agent-afi.ga.manage-clients")',
            'eventLabel': '@Messages("agent.services.account.additional.links.agent-afi.ga.request-auth")'
        });

        ga('send', 'event', {
            'eventCategory': '@Messages("agent.services.account.additional.links.agent-afi.ga.link-view")',
            'eventAction': '@Messages("agent.services.account.additional.links.agent-afi.ga.services-you-need")',
            'eventLabel': '@Messages("agent.services.account.additional.links.agent-afi.ga.view-income-record")'
        });

    ga('send', 'pageview', { '@customDimension': '@if(isWhitelisted) {Whitelisted} else {Non-Whitelisted}' });

}


@mainTemplate(title = Messages("agent.services.account.heading"), mainClass = Some("govuk-main-wrapper"), isAdmin = isAdmin, analyticsAdditionalJs = Some(analyticsAdditionalJs)) {
<div class="padding-top-40 padding-bottom-40 account-services-home">
    <h1 class="govuk-heading-xl welcome-heading">@Messages("app.name")
        <span class="govuk-hint">@Messages("agent.accountNumber", arn)</span>
    </h1>

    <div class="govuk-inset-text govuk-!-width-two-thirds">
        <p class="">
        @Messages("agent.services.account.inset")
        </p>
    </div>

    <section class="tile-container" style="margin-bottom: 0">
        <div class="tile">
            <div class="govuk-grid-column-one-half">
                <h2 class="govuk-heading-m" style="margin: 0px 0 10px">@Messages("agent.services.account.section1.h2")</h2>
                @if(isSuspendedForVat) {
                <h3 class="govuk-heading-s" style="margin: 0px 0 10px">@Messages("agent.services.account.section1.suspended.h3")</h3>
                    <p>@Messages("agent.services.account.section1.suspended.p1")</p>
                    <p>@Messages("agent.services.account.section1.suspended.p2")</p>
                }else {
                <h3 class="govuk-heading-s" style="margin: 0px 0 10px">@Messages("agent.services.account.section1.col1.h3")</h3>
                <p>@Messages("agent.services.account.section1.col1.p")</p>
                <p><a href="https://www.gov.uk/guidance/sign-up-for-making-tax-digital-for-vat" target="_blank">@Messages("agent.services.account.section1.col1.link")</a></p>
            </div>
            <div class="govuk-grid-column-one-half">
                <h3 class="govuk-heading-s" style="margin: 40px 0 10px">@Messages("agent.services.account.section1.col2.h3")</h3>
                <p>@Messages("agent.services.account.section1.col2.p")</p>
                <p><a href="@appConfig.vatUrl" target="_blank">@Messages("agent.services.account.section1.col2.link")</a></p>
                }
            </div>
        </div>
    </section>
    <section class="tile-container"  style="margin-bottom: 0">
        <div class="tile">
            <div class="govuk-grid-column-one-half">
                <h2 class="govuk-heading-m" style="margin: 0px 0 10px">@Messages("agent.services.account.trusts-section.h2")</h2>
                <h3 class="govuk-heading-s" style="margin: 0px 0 10px">@Messages("agent.services.account.trusts-section.col1.h3")</h3>
                <p><a target="_blank" href="https://www.gov.uk/guidance/register-your-clients-trust">@Messages("agent.services.account.trusts-section.col1.register-trust-link.text")</a></p>
                <p><a target="_blank" href="https://www.gov.uk/guidance/register-your-clients-estate">@Messages("agent.services.account.trusts-section.col1.register-estate-link.text")</a></p>
            </div>
            <div class="govuk-grid-column-one-half">
                <h3 class="govuk-heading-s" style="margin: 40px 0 10px">@Messages("agent.services.account.trusts-section.col2.h3")</h3>
                <p>@Messages("agent.services.account.trusts-section.col2.p")</p>
                <p><a href="https://www.gov.uk/guidance/manage-your-trusts-registration-service">@Messages("agent.services.account.trusts-section.col2.register-trust-link.text")</a></p>
                <p><a href="https://tax.service.gov.uk/register-an-estate">@Messages("agent.services.account.trusts-section.col2.register-estate-link.text")</a></p>
            </div>

        </div>

    </section>
    @if(isWhitelisted) {
    <section class="tile-container" style="margin-bottom: 0">
    <div class="tile">
        <div class="govuk-grid-column-one-half">
            <h2 class="govuk-heading-m" style="margin: 0px 0 10px">@Messages("agent.services.account.paye-section.h2")</h2>
            <p>@Messages("agent.services.account.paye-section.col1.p")</p>
            <p><a href="@appConfig.taxHistoryFrontendUrl">@Messages("agent.services.account.paye-section.col1.link")</a></p>
        </div>
    </div>
    </section>
    }
    <section class="tile-container" style="margin-bottom: 0">
        <div class="tile">
            <div class="govuk-grid-column-one-half" id="tileS3C1">
                <h2 class="govuk-heading-m" style="margin: 0px 0 10px">@Messages("agent.services.account.section3.col1.h2")</h2>
                <h3 class="govuk-heading-s" style="margin: 0px 0 10px">@Messages("agent.services.account.section3.col1.h3")</h3>
                <p>
                    @Messages("agent.services.account.section3.col1.text1")
                    @Html(Messages("agent.services.account.section3.col1.link1", Messages("agent.services.account.section3.col1.link1.href"))).
                </p>
                <p>
                    @Messages("agent.services.account.section3.col1.text2")
                    @Html(Messages("agent.services.account.section3.col1.link2", Messages("agent.services.account.section3.col1.link2.href"))).
                </p>
            </div>
            <div class="govuk-grid-column-one-half" id="tileS3C2">
                <h3 class="govuk-heading-s" style="margin: 40px 0 10px">@Messages("agent.services.account.section3.col2.h3")</h3>
                <p>@Html(Messages("agent.services.account.section3.col2.link1", Messages("agent.services.account.section3.col2.link1.href")))</p>
            </div>
        </div>
    </section>
    <section class="tile-container" style="margin-bottom: 0">
        <div class="tile">
            <div class="govuk-grid-column-one-half" id="tileS4C1">
                <h2 class="govuk-heading-m" style="margin: 0px 0 5px">@Messages("agent.services.account.section4.h2")</h2>
                <h3 class="govuk-heading-s" style="margin: 0px 0 5px">@Messages("agent.services.account.section4.col1.h3")</h3>
                <p>@Messages("agent.services.account.section4.col1.p")</p>
                <p><a href="@appConfig.agentInvitationsFrontendUrl">@Messages("agent.services.account.section4.col1.link")</a></p>
            </div>
            <div class="govuk-grid-column-one-half" id="tileS4C2">
                <h3 class="govuk-heading-s" style="margin: 35px 0 5px">@Messages("agent.services.account.section4.col2.h3")</h3>
                <p><a href="@appConfig.agentInvitationsTrackUrl">@Messages("agent.services.account.section4.col2.link1")</a></p>
                <p><a href="@appConfig.agentMappingUrl">@Messages("agent.services.account.section4.col2.link2")</a></p>
                <p><a href="@appConfig.agentInvitationsCancelAuthUrl">@Messages("agent.services.account.section4.col2.link3")</a></p>
            </div>
        </div>
    </section>
</div>
}

