@*
 * Copyright 2024 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.agentservicesaccount.config.AppConfig
@import uk.gov.hmrc.agentservicesaccount.controllers.routes

@this(a:a,h1: h1, p: p, span: span)

@(currentPath: String, isAdmin: Boolean)(implicit msgs: Messages)

@pathSelectedClass(currentPath: String, href:String) = @{
    if (currentPath == href) "hmrc-account-menu__link--active" else ""
}

@rootUrlClass = @{
    Seq(
        "hmrc-account-menu__link",
        "hmrc-account-menu__link--home",
        pathSelectedClass(currentPath, routes.AgentServicesController.root().url + "/home")
    ).mkString(" ")
}

@manageAccountUrlClass = @{
    Seq(
        "hmrc-account-menu__link",
        pathSelectedClass(currentPath, routes.AgentServicesController.manageAccount.url)
    ).mkString(" ")
}

<nav id="secondary-nav" class="hmrc-account-menu" aria-label='@msgs("nav.aria.account-menu")'>
    <a href="@routes.AgentServicesController.root().url"
        class="@rootUrlClass">
        @span("nav.home", classes = Some("hmrc-account-icon hmrc-account-icon--home"))
    </a>
    @if(isAdmin) {
        <a href="@routes.AgentServicesController.manageAccount.url" class="@manageAccountUrlClass">
            <span>@msgs("nav.manage.account")</span>
        </a>
    } else{
        @a(
            key = "nav.your.account",
            href = routes.AgentServicesController.yourAccount.url,
            classes = Some("hmrc-account-menu__link " + pathSelectedClass(currentPath, routes.AgentServicesController.yourAccount.url)),
            addStandardClasses = false
        )
    }
    @a(
        key = "nav.help",
        href = routes.AgentServicesController.showHelp.url,
        classes = Some("hmrc-account-menu__link " + pathSelectedClass(currentPath, routes.AgentServicesController.showHelp.url)),
        addStandardClasses = false
    )
</nav>


